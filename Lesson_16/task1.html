<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Задача 1</title>
</head>

<body>
  <h1>Задача 1</h1>
  <p>
    Створити клас TDate для роботи із датами у форматі “день.місяць.рік”. Дата представляється структурою із трьома
    полями.
    Реалізувати методи збільшення/зменшення дати на певну кількість днів, місяців чи років. Введення та виведення дати
    реалізувати за допомогою методу toString.
  </p>
  <script>
    class TDate {
      constructor(day, month, year) {
        this.day = day
        this.month = month
        this.year = year
      }

      getDaysInMonth(month, year) {
        return new Date(year, month, 0).getDate()
      }

      increaseYears(value) {
        this.year = this.year + value
      }

      decreaseYears(value) {
        this.year = this.year - value
      }

      increaseDays(value) {
        const daysInMonth = this.getDaysInMonth(this.month, this.year)
        const totalDays = this.day + value
        if (totalDays > daysInMonth) {
          this.day = totalDays - daysInMonth
          this.increaseMonths(1)
        } else this.day = totalDays
      }

      decreaseDays(value) {
        const daysInMonth = this.getDaysInMonth(this.month, this.year)
        this.day = this.day - value
        if (this.day < 1) {
          this.day = this.day + daysInMonth
          this.decreaseMonths(1)
        }
      }

      increaseMonths(value) {
        let totalMonths = this.month + value
        while (totalMonths > 12) {
          totalMonths -= 12
          this.increaseYears(1)
        }
        this.month = totalMonths
      }

      decreaseMonths(value) {
        let totalMonths = this.month - value
        while (totalMonths < 1) {
          totalMonths += 12
          this.decreaseYears(1)
        }
        this.month = totalMonths
      }

      toString() {
        return `${this.day}.${this.month}.${this.year}`
      }
    }

    let date1 = new TDate(2, 4, 2023)
    document.write(`Поточна дата: ${date1.toString()}<br>`)

    // date1.getDaysInMonth()
    // document.write(date1)

    date1.increaseDays(32)
    document.write(`Змінена дата + дні: ${date1.toString()}<br>`)
    date1.decreaseDays(5)
    document.write(`Змінена дата - дні: ${date1.toString()}<br>`)
    date1.increaseMonths(6)
    document.write(`Змінена дата + місяці: ${date1.toString()}<br>`)
    date1.decreaseMonths(3)
    document.write(`Змінена дата - місяці: ${date1.toString()}<br>`)
    date1.increaseYears(5)
    document.write(`Змінена дата + роки: ${date1.toString()}<br>`)
    date1.decreaseYears(10)
    document.write(`Змінена дата - роки: ${date1.toString()}<br>`)
  </script>
</body>

</html>